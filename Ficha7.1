#include <stdio.h>
#include <stdlib.h>

typedef struct {
    int dia, mes, ano;
} Data;
    
typedef struct {
   int num;
   char nome[10];
   Data nasc;
} Aluno;


int menu() {
    int menu;
    printf("\nEscolha uma das opçoes:");
    printf("\n1-Inserir aluno");
    printf("\n2-Listagem de alunos inseridos");
    printf("\n0-Sair do programa\n->");
    scanf("%d", &menu);
    return menu;
}

void lerData(Data *data) {
    printf("Dia.Mes.Ano de nascimento: ");
    scanf("%d.%d.%d", &data->dia, &data->mes, &data->ano);
}

void lerAluno(Aluno *aluno, int i) {
    printf("\nSobre o aluno %d", i + 1);
    puts("");
    printf("\nNumero: ");
    scanf("%d", &aluno->num);
    printf("Nome: ");
    scanf("%s", aluno->nome);
    lerData(&aluno->nasc);
}

void imprimirData(Data data) {
    printf("\nNasceu em %d.%d.%d\n", data.dia, data.mes, data.ano);
}

void imprimirAluno(Aluno aluno[], int cont) {
    int i;
    for (i = 0; i < cont; i++) {
        printf("\nSobre o aluno %d", i + 1);
        puts("");
        printf("\nO seu numero é %d", aluno[i].num);
        printf("\nO seu nome é %s", aluno[i].nome);
        imprimirData(aluno[i].nasc);
    }
}

int main(int argc, char** argv) {

    Aluno aluno[30];
    int opcao, i = 0, cont = 0;

    do {
        opcao = menu();
        switch (opcao) {
            case 1:
                lerAluno(&aluno[i], i);
                i++;
                cont++;
                break;
            case 2:
                if (cont == 0) {
                    printf("\nAinda nao inseriu alunos\n");
                } else {
                    imprimirAluno(aluno, cont);
                }
                break;
            case 0:
                exit(0);
                break;
        }
    } while (opcao != 0);


    return (EXIT_SUCCESS);
}
